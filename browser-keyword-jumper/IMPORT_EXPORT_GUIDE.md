# 导入导出功能使用指南

## 功能概述

浏览器关键字跳转插件提供了强大的导入导出功能，让您可以：

- 📤 **导出配置**：将所有关键字配置导出为JSON文件进行备份
- 📥 **导入配置**：从JSON文件导入关键字配置
- 🔄 **多种导入模式**：支持替换模式和合并模式
- 🛡️ **数据验证**：确保导入数据的完整性和有效性
- 📊 **详细统计**：显示导入过程的详细统计信息

## 导出功能

### 如何导出配置

1. 点击插件图标打开配置面板
2. 点击右上角的 **"导出"** 按钮
3. 系统会自动下载一个JSON格式的配置文件

### 导出文件格式

导出的文件名格式：`keyword-jumper-backup-YYYY-MM-DD-HH-MM-SS-N个关键字.json`

例如：`keyword-jumper-backup-2024-01-15-14-30-25-5keywords.json`

### 导出文件内容

```json
{
  "keywords": [
    {
      "id": "1705123456789abc",
      "keyword": "admin",
      "url": "https://admin.example.com",
      "description": "管理后台",
      "createdAt": 1705123456789,
      "updatedAt": 1705123456789
    }
  ],
  "settings": {
    "enableSuggestions": true,
    "showPreview": true,
    "version": "1.0.0"
  },
  "exportedAt": 1705123456789,
  "exportVersion": "1.0.0"
}
```

## 导入功能

### 如何导入配置

1. 点击插件图标打开配置面板
2. 点击右上角的 **"导入"** 按钮
3. 选择要导入的JSON配置文件
4. 在导入选项对话框中选择导入模式
5. 点击 **"开始导入"** 完成导入

### 导入模式

#### 1. 替换模式（Replace Mode）

- **功能**：用导入的关键字完全替换当前所有关键字
- **适用场景**：
  - 恢复完整备份
  - 在新设备上初始化配置
  - 完全重置配置

**示例**：
- 当前关键字：`admin`, `test`, `dev`
- 导入关键字：`github`, `google`
- 导入后：`github`, `google`（原有关键字被完全替换）

#### 2. 合并模式（Merge Mode）

- **功能**：将导入的关键字添加到现有关键字中
- **适用场景**：
  - 从其他设备同步部分配置
  - 导入新的关键字集合
  - 增量更新配置

**示例**：
- 当前关键字：`admin`, `test`
- 导入关键字：`github`, `google`
- 导入后：`admin`, `test`, `github`, `google`

##### 合并模式选项

**跳过重复关键字**（默认启用）：
- 启用：如果导入的关键字已存在，则跳过不处理
- 禁用：如果导入的关键字已存在，则更新现有关键字

## 导入统计信息

导入完成后，系统会显示详细的统计信息：

### 替换模式统计
- **总导入数**：成功导入的关键字总数

### 合并模式统计
- **新增**：新添加的关键字数量
- **更新**：更新的现有关键字数量
- **跳过**：因重复而跳过的关键字数量

### 错误处理
- 如果导入过程中出现错误，系统会显示警告信息
- 错误不会阻止整个导入过程，只会跳过有问题的条目

## 数据验证

### 导入文件验证

系统会验证以下内容：

1. **JSON格式**：文件必须是有效的JSON格式
2. **数据结构**：必须包含 `keywords` 数组
3. **关键字格式**：每个关键字必须包含有效的 `keyword` 和 `url`
4. **URL格式**：URL必须是有效的网址格式
5. **关键字规则**：关键字只能包含字母、数字、下划线和连字符

### 错误处理

如果验证失败，系统会显示具体的错误信息：

- **JSON格式错误**：`"文件格式错误或文件损坏"`
- **配置格式无效**：`"配置格式无效"`
- **关键字重复**：在合并模式下会根据设置跳过或更新

## 使用场景

### 1. 备份和恢复

**定期备份**：
```
1. 每周导出一次配置文件
2. 将文件保存到云盘或其他安全位置
3. 在需要时使用替换模式恢复
```

### 2. 多设备同步

**设备A → 设备B**：
```
1. 在设备A上导出配置
2. 将文件传输到设备B
3. 在设备B上使用合并模式导入
```

### 3. 团队共享

**共享常用关键字**：
```
1. 团队成员创建通用关键字配置
2. 导出配置文件并分享给团队
3. 其他成员使用合并模式导入
```

### 4. 配置迁移

**从其他工具迁移**：
```
1. 将其他工具的配置转换为JSON格式
2. 确保格式符合要求
3. 使用替换模式导入
```

## 最佳实践

### 1. 文件命名

建议使用描述性的文件名：
- `keyword-jumper-work-2024-01-15.json`（工作相关）
- `keyword-jumper-personal-2024-01-15.json`（个人使用）
- `keyword-jumper-team-shared.json`（团队共享）

### 2. 定期备份

- 每次重大更改后立即备份
- 设置定期备份提醒（如每月一次）
- 保留多个版本的备份文件

### 3. 导入前预览

- 导入前仔细查看导入选项对话框中的统计信息
- 确认导入模式符合您的需求
- 如有疑问，先在测试环境中尝试

### 4. 数据清理

导出前清理配置：
- 删除不再使用的关键字
- 更新过时的URL
- 完善关键字描述

## 故障排除

### 常见问题

**Q: 导入时提示"文件格式错误"**
A: 确保文件是有效的JSON格式，可以使用在线JSON验证工具检查

**Q: 导入后关键字数量不对**
A: 检查是否有关键字因格式错误被跳过，查看导入统计信息

**Q: 导入的关键字不生效**
A: 确保关键字格式符合要求（只能包含字母、数字、下划线和连字符）

**Q: 无法导出配置**
A: 确保有关键字配置存在，空配置无法导出

### 错误代码

- `JSON格式错误`：文件不是有效的JSON
- `配置格式无效`：JSON结构不符合要求
- `关键字验证失败`：关键字格式不符合规则
- `URL格式无效`：URL不是有效的网址格式

## 技术细节

### 支持的文件格式
- **导出**：JSON (.json)
- **导入**：JSON (.json)

### 数据结构版本
- **当前版本**：1.0.0
- **向后兼容**：支持旧版本格式的导入

### 存储限制
- **单个关键字**：最多50个字符
- **描述**：最多200个字符
- **总配置大小**：受浏览器存储限制

## 更新日志

### v1.0.0
- ✅ 基础导入导出功能
- ✅ 替换模式和合并模式
- ✅ 数据验证和错误处理
- ✅ 详细统计信息
- ✅ 国际化支持（中英文）