# 🔧 故障排除指南

## 常见问题和解决方案

### ❌ "无法加载扩展" - 国际化错误

**错误信息：**
```
错误：已使用本地化，但未在清单中指定 default_locale。
```

**解决方案：**
这个问题已经在最新版本中修复。如果你仍然遇到这个问题：

1. **重新构建项目：**
   ```bash
   ./clean.sh
   ./build.sh
   ```

2. **手动修复（如果需要）：**
   在 `manifest.json` 中添加：
   ```json
   {
     "manifest_version": 3,
     "name": "Browser Keyword Jumper",
     "version": "1.1.0",
     "description": "通过关键字快速跳转到网站",
     "default_locale": "en",  // 添加这一行
     ...
   }
   ```

3. **重新加载扩展：**
   - 在浏览器扩展管理页面点击"重新加载"
   - 或者删除扩展后重新安装

### ❌ 图标不显示

**问题：** 扩展图标显示为默认的拼图图标

**解决方案：**
1. 确认 `icons/` 目录包含所有PNG文件
2. 检查 `manifest.json` 中的图标路径
3. 重新构建并加载扩展

### ❌ 地址栏功能不工作

**问题：** 输入 `kj` 后没有反应

**解决方案：**
1. 确认扩展已启用
2. 检查是否有其他扩展占用了 `kj` 关键字
3. 尝试重启浏览器
4. 检查浏览器控制台是否有错误信息

### ❌ 配置面板打不开

**问题：** 点击图标没有反应

**解决方案：**
1. 右键点击扩展图标，选择"检查弹出内容"
2. 查看控制台错误信息
3. 确认所有文件都在正确位置
4. 重新构建扩展

## 🔍 调试步骤

### 1. 检查扩展状态
- 打开 `chrome://extensions/`
- 确认扩展已启用
- 查看是否有错误信息

### 2. 查看控制台日志
- 右键点击扩展图标 → "检查弹出内容"
- 或者 F12 → Console 标签页
- 查看错误信息和日志

### 3. 验证文件完整性
确认以下文件存在：
```
release/ (或 dist/)
├── manifest.json
├── background.js
├── popup.html
├── popup.css
├── popup.js
├── keyword-matcher.js
├── icons/
│   ├── icon16.png
│   ├── icon48.png
│   └── icon128.png
└── _locales/
    ├── en/messages.json
    └── zh_CN/messages.json
```

### 4. 重新构建
如果问题持续存在：
```bash
# 清理旧文件
./clean.sh

# 重新构建
./build.sh

# 重新加载扩展
```

## 📞 获取帮助

如果以上方法都无法解决问题：

1. **查看日志：** 打开浏览器开发者工具，查看详细错误信息
2. **提交Issue：** 在GitHub仓库提交问题报告
3. **包含信息：**
   - 浏览器版本
   - 操作系统
   - 错误截图
   - 控制台错误信息

## ✅ 验证修复

修复问题后，验证以下功能：
- [ ] 扩展图标正确显示（狗狗头像）
- [ ] 点击图标打开配置面板
- [ ] 可以添加/编辑/删除关键字
- [ ] 地址栏输入 `kj 关键字` 可以跳转
- [ ] 搜索和分页功能正常
- [ ] 导入导出功能正常

---

**最后更新：** $(date)
**版本：** 1.1.0